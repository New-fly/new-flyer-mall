<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>添加商品</title>
    <link rel="stylesheet" th:href="@{/bootstrap/dist/css/bootstrap.css}">
    <link th:href="@{/css/adminAddProduct.css}" rel="stylesheet" type="text/css">
    <link rel="shortcut icon" th:href="@{/images/xflogo.ico}" type="image/x-icon"/>
    <link rel="stylesheet" th:href="@{/font/css/font-awesome.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/release/wangEditor-fullscreen-plugin.css}">
    <!-- 编辑器编辑后，提交时执行js，获得编辑器的内容，赋值给textarea，用于向后台提交存入数据库 -->
    <script type="text/javascript">
        function modifyContent() {
            var introduce = document.getElementById("introduce");
            introduce.value = editor.txt.html();
        }
    </script>
</head>
<body>
<div class="windoww">
    <div class="popup-windows">
        <h2 style="text-align: center">添加商品</h2>
        <form th:action="@{/AdminProductController/adminAddProduct}" method="post"  enctype="multipart/form-data" onsubmit="modifyContent()">
            <table class="table table-hover table-bordered">
                <tr>
                    <th>库存</th>
                    <td><input type="text" name="product_inventory" class="form-control" id="keywords" /></td>
                </tr>
                <tr>
                    <th>活动名称</th>
                    <td>
                        <input type="text" name="product_activity" class="form-control" id="condition" />
                    </td>
                </tr>
                <tr>
                    <th>类别</th>
                    <td>
                        <select name="product_category">
                            <option th:each="productCategory : ${productCategories}" th:text="${productCategory.category_name}"></option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>是否可兑换</th>
                    <td>
                        <select name="product_isRedeemable">
                            <option value="1">是</option>
                            <option value="0">否</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>是否上架</th>
                    <td>
                        <select name="product_isShelf">
                            <option value="1">是</option>
                            <option value="0">否</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>是否热门</th>
                    <td>
                        <select name="product_isTop">
                            <option value="1">是</option>
                            <option value="0">否</option>
                        </select>
                        <!--<input type="text" name="product_isTop" class="form-control" id="details" />-->
                    </td>
                </tr>
                <tr>
                    <th>商城名称</th>
                    <td><input type="text" name="product_keywords" class="form-control" id="kind" /></td>
                </tr>
                <tr>
                    <th>商城价</th>
                    <td><input type="text" name="product_mallPrice"  class="form-control" id="product_mallPrice"></td>
                </tr>
                <tr>
                    <th>专柜价</th>
                    <td><input type="text" name="product_counterPrice" class="form-control" id="product_counterPrice" /></td>
                </tr>
                <tr>
                    <th>需要积分</th>
                    <td><input type="text" name="product_needPoints"  class="form-control" id="product_needPoints"></td>
                </tr>
                <tr>
                    <th>得到积分</th>
                    <td><input type="text" name="product_getPoints"  class="form-control" id="product_getPoints"></td>
                </tr>
                <tr>
                    <th>服务类型</th>
                    <td><input type="text" name="product_serviceType"  class="form-control" id="product_serviceType"></td>
                </tr>
                <tr>
                    <th>商品规格</th>
                    <td><input type="text" name="product_specification"  class="form-control" id="product_specification"></td>
                </tr>
                <tr>
                    <th style="padding-top: 64px;">上传图片</th>
                    <td>
                        <input type="file" name="file" id="file" accept="image/*"/>
                        <input type="file" name="file" th:class="input"accept="image/*" id="file2"/>
                        <input type="file" name="file" th:class="input" accept="image/*" id="file3"/>
                        <input type="file" name="file" th:class="input" accept="image/*" id="file4"/>
                        <input type="file" name="file" th:class="input" accept="image/*" id="file5"/>
                    </td>
                </tr>
            </table>

            <div class="form-group">
                <!-- 编辑器编辑，提交时执行js，获得编辑器的内容，赋值给textarea，用于向后台提交存入数据库 -->
                <textarea rows="5" cols="35" name="product_details" style="display:none;" id="introduce"></textarea>
                <div id="editor">
                    <p>请编写该商品的<b>商品详情</b>，包括图片文字</p>
                </div>
                <!-- 注意， 只需要引用 JS，无需引用任何 CSS ！！！-->
                <script type="text/javascript" th:src="@{/release/wangEditor.min.js}"></script>
                <!-- 设置全屏功能的两个js文件，先引入jquery-3.2.1.min.js，在引入wangEditor-fullscreen-plugin.js -->
                <script type="text/javascript" th:src="@{/release/jquery-3.2.1.min.js}"></script>
                <script type="text/javascript" th:src="@{/release/wangEditor-fullscreen-plugin.js}"></script>
                <script type="text/javascript">
                    var E = window.wangEditor
                    var editor = new E('#editor')
                    /* 处理上传图片的controller路径 */
                    editor.customConfig.uploadImgServer = '/AdminProductController/upload'
                    /* 定义上传图片的默认名字 */
                    editor.customConfig.uploadFileName = 'myFileName'
                    // 或者 var editor = new E( document.getElementById('editor') )
                    editor.create()
                    //初始化全屏插件
                    E.fullscreen.init('#editor');
                </script>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <input type="button" value="提交" class="btn btn-info" id="sub"/>
                    &nbsp; &nbsp; &nbsp;
                    <a th:href="@{/AdminProductController/adminProductList}">
                        <input type="button" value="取消"  class="btn btn-info" id="cancel" style="background-color: orangered"/>
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>
<script type="text/javascript">
   var keywords=document.getElementById('keywords');
   var condition=document.getElementById('condition');
   var kind=document.getElementById('kind');
   var product_mallPrice=document.getElementById('product_mallPrice');
   var product_counterPrice=document.getElementById('product_counterPrice');
   var product_needPoints=document.getElementById('product_needPoints');
   var product_getPoints=document.getElementById('product_getPoints');
   var product_serviceType=document.getElementById('product_serviceType');
   var product_specification=document.getElementById('product_specification');
   var file=document.getElementById('file');
   var file2=document.getElementById('file2');
   var file3=document.getElementById('file3');
   var file4=document.getElementById('file4');
   var file5=document.getElementById('file5');
   var sub=document.getElementById('sub');
   sub.onclick=function () {
       if (keywords.value == null || keywords.value == "") {
           alert("请输入库存");
       }
       if (condition.value == null || condition.value == "") {
           alert("请输入活动名称");
       }
       if (kind.value == null || kind.value == "") {
           alert("请输入关键字");
       }
       if (product_mallPrice.value == null || product_mallPrice.value == "") {
           alert("请输入商城价");
       }
       if (product_counterPrice.value == null || product_counterPrice.value == "") {
           alert("请输入专柜价");
       }
       if (product_needPoints.value == null || product_needPoints.value == "") {
           alert("请输入积分");
       }
       if (product_getPoints.value == null || product_getPoints.value == "") {
           alert("请输入积分");
       }
       if (product_serviceType.value == null || product_serviceType.value == "") {
           alert("请输入服务类型");
       }
       if (product_specification.value == null || product_specification.value == "") {
           alert("请输入商品规格");
       }
       if (file.value == null || file.value == "") {
           alert("最少上传第一张图片");
       }
       // if (file2.value == null || file2.value == "") {
       //     //alert("请上传图片");
       // }
       // if (file3.value == null || file3.value == "") {
       //     // alert("请上传图片");
       // }
       // if (file4.value == null || file4.value == "") {
       //     // alert("请上传图片");
       // }
       // if (file5.value == null || file5.value == "") {
       //     // alert("请上传图片");
       // }
       else {
           sub.setAttribute('type', 'submit');
           return true;

       }
   };




</script>
</body>
</html>