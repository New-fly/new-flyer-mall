<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>修改密码-账户管理</title>
    <link th:href="@{/css/am-revisepwd.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/images/xflogo.ico}" rel="shortcut icon" type="image/x-icon"/>
    <link  th:href="@{/font/css/font-awesome.min.css}" rel="stylesheet">
    <script th:src="@{/js/jquery.js}"></script>
</head>
<body>
<div class="container">

    <form th:action="@{/UserManagementController/checkPassword}" method="post" style="text-align: center">
        <p class="pp">修改密码</p>
        <input type="hidden" name="userId" th:value="${session.userId}">
        <input type="password" placeholder="原密码" class="ipt" id="user_password" name="user_password" onchange="test3()"><br>
        <font class="error"></font>
        <input type="password" placeholder="新密码" name="user_rePassword" class="ipt" id="again"><br>
        <font class="error"></font><br>
        <input type="submit" class="ipt ipt1" id="aff">
    </form>
</div>
</body>
<script>
    //对密码的验证
    var user_password=document.getElementById("user_password");
    function test3(){
        var pPattern=/^[A-Za-z]+[0-9]+[A-Za-z0-9]*|[0-9]+[A-Za-z]+[A-Za-z0-9]*$/g;
        if (!pPattern.test(user_password.value)){
            document.getElementsByClassName("error")[0].innerHTML="密码必须由6-16个英文字母和数字的字符串组成!";
            return false;
        }else{
            document.getElementsByClassName("error")[0].innerHTML="";
        }

    }
    //密码和确认密码全部输入才能进入
    var aff=document.getElementById("aff");
    var userpassword=document.getElementById("user_password");
    var again=document.getElementById("again");

    aff.onclick=function () {
        if(userpassword.value==""){
            document.getElementsByClassName("error")[0].innerHTML="密码不能为空！";
            return false;
        }if(again.value==""){
            document.getElementsByClassName("error")[1].innerHTML="确认密码不能为空！";
            return false;
        }else{
            document.getElementsByClassName("error")[1].innerHTML="输入成功";
            return true;
        }
    }


</script>
</html>