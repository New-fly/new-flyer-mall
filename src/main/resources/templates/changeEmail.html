<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>修改邮箱-账号管理</title>
    <link th:href="@{/css/am-reviseemail.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/images/xflogo.ico}" rel="shortcut icon" type="image/x-icon"/>
    <link  th:href="@{/font/css/font-awesome.min.css}" rel="stylesheet">
    <script th:src="@{/js/jquery.js}"></script>
</head>
<body>
<div class="container">
        <form th:action="@{/UserManagementController/changeEmail}" method="post" style="text-align: center">
            <input type="hidden" name="userId" th:value="${session.userId}">
            <p class="pp">修改邮箱</p>
            <!--<input type="password" placeholder="原密码" class="ipt"><br>-->
            <input type="type" placeholder="新邮箱" name="user_mail" class="ipt" onchange="test()"><br>
            <font class="error"></font>
            <input type="submit" class="ipt ipt1">
        </form>
</div>
</body>
<script>

    var email= document.getElementsByClassName("ipt")[0];
    function test() {

        //对电子邮件的验证
        var myreg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
        if (email.value != "") {
            if (myreg.test(email.value)) {
                document.getElementsByClassName("error")[0].innerHTML = "";
                return true;
            } else {
                document.getElementsByClassName("error")[0].innerHTML = "请输入有效的E_mail！";
                return false;
            }
        }
    }


</script>
</html>